<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Julienbe.GitHub.io by JulienBe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Julienbe.GitHub.io</h1>
      <h2 class="project-tagline">Memo</h2>
    </section>

    <section class="main-content">
      <h1>
<a id="union-find" class="anchor" href="#union-find" aria-hidden="true"><span class="octicon octicon-link"></span></a>Union Find</h1>

<h2>
<a id="quick-find---eager-approach" class="anchor" href="#quick-find---eager-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick Find - Eager approach</h2>

<p>Begin with id[], if two given objects have the same id, they are connected</p>

<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
</tr>
</tbody>
</table>

<p>union(4, 3)</p>

<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td><strong>3</strong></td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
</tr>
</tbody>
</table>

<p>union(3, 8)</p>

<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>2</td>
<td><strong>8</strong></td>
<td><strong>8</strong></td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
</tr>
</tbody>
</table>

<p>etc..</p>

<p>So there can ben a lot of changes. Checking if two elements are connected is very fast but building the array is very slow. N union on N objects is quadratic</p>

<h2>
<a id="quick-find---lazy-approach" class="anchor" href="#quick-find---lazy-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick Find - Lazy approach</h2>

<pre><code>0-1-2-3-4-5-6-7-8-9 
</code></pre>

<p>union(4, 3)</p>

<pre><code>0-1-2-3-5-6-7-8-9 
      |
      4
</code></pre>

<p>union(3, 8)</p>

<pre><code>0-1-2-5-6-7-8-9 
            |
            3
            |
            8
</code></pre>

<p>Now building the tree is quick but finding if two elements are connected can be quite slow</p>

<h1>
<a id="order-of-growth" class="anchor" href="#order-of-growth" aria-hidden="true"><span class="octicon octicon-link"></span></a>Order of growth</h1>

<table>
<thead>
<tr>
<th>Order</th>
<th>Name</th>
<th>Solvable in 1990s</th>
<th>Solvable in 2000s</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Constant</td>
<td>any</td>
<td>any</td>
</tr>
<tr>
<td>log N</td>
<td>Logarithmic</td>
<td>any</td>
<td>any</td>
</tr>
<tr>
<td>N</td>
<td>Linear</td>
<td>Hundreds of millions</td>
<td>billions</td>
</tr>
<tr>
<td>N log N</td>
<td>linearithmic</td>
<td>millions</td>
<td>hundreds of millions</td>
</tr>
<tr>
<td>N²</td>
<td>quadratic</td>
<td>thousands</td>
<td>tens of thousands</td>
</tr>
<tr>
<td>N³</td>
<td>cubic</td>
<td>thousand</td>
<td>thousands</td>
</tr>
<tr>
<td>2^N</td>
<td>exponential</td>
<td>20s</td>
<td>30s</td>
</tr>
</tbody>
</table>

<h1>
<a id="mysql-replication" class="anchor" href="#mysql-replication" aria-hidden="true"><span class="octicon octicon-link"></span></a>MySQL replication</h1>

<p>To make sure that the replication doesn't collides, make sure that the auto increment offset in my.cnf is set to even on one site, and on odd on the other</p>

<h1>
<a id="hashset" class="anchor" href="#hashset" aria-hidden="true"><span class="octicon octicon-link"></span></a>HashSet</h1>

<p>DATA =&gt; Hash() =&gt; bucket</p>

<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>d1</td>
<td>d3</td>
<td></td>
<td></td>
<td>d4</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>d2</td>
<td></td>
<td></td>
<td></td>
<td>d5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>d6</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>Time : Average : O(1), worst O(n)</p>

<p>Space : O(n)</p>

<h1>
<a id="bloom-filter" class="anchor" href="#bloom-filter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bloom filter</h1>

<p>A Bloom filter is a data structure designed to tell you, rapidly and <strong>memory-efficiently</strong>, whether an element is present in a set. </p>

<p>It looks like this :</p>

<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>...</th>
<th>m</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>When you enter something in the set, it goes trough multiples <strong>hash functions</strong> and each of them produce turn a cell of the array on. So if you add multiples elements they might eventually end up turning on cells that are already turned on.
You'll want your hash functions to be evenly and randomly distributed</p>

<h3>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>* Ant -&gt; hash1() -&gt; cell 1
* Ant -&gt; hash2() -&gt; cell 5
* Ant -&gt; hash3() -&gt; cell 9
</code></pre>

<pre><code>* MassEffect -&gt; hash1() -&gt; cell 0
* MassEffect -&gt; hash2() -&gt; cell 4
* MassEffect -&gt; hash3() -&gt; cell 8
</code></pre>

<pre><code>* Manjaro -&gt; hash1() -&gt; cell 1 (Already on)
* Manjaro -&gt; hash2() -&gt; cell 4 (Already on)
* Manjaro -&gt; hash3() -&gt; cell 9 (Already on)
</code></pre>

<h2>
<a id="get" class="anchor" href="#get" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get</h2>

<p>The element you're trying to get will go trough the same hash functions, this will tell you which cells to look for. If one of those is off, the element cannot be there. If all are on, there is a fairly good chance that it has already been added.</p>

<p>You may have <strong>false positives</strong> but <strong>no false negative</strong>. The error rate can be tuned by varying the lenght of the array and the number of hash functions</p>

<h2>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h2>

<ul>
<li>You can't remove an item from an hash function... 'cause the cells might have been turned on by other things too</li>
<li>The more saturated the array become, the more false positive you're going to get.</li>
<li>The bigger the array, the less probability of false positive</li>
<li>The approximate false positive rate can be calculated with this :</li>
</ul>

<h2>
<a id="tuning" class="anchor" href="#tuning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tuning</h2>

<p>The probability of false positive : <strong>(1 - e<sup>-kn/m</sup>)<sup><sup>k</sup></sup></strong> </p>

<p>Ok this deserve some explanations :</p>

<p><strong>n</strong> is the number of expected member
<strong>k</strong> is the number of hash functions
<strong>m</strong> is the number of bits</p>

<ul>
<li>With an empty bit vector and a good hashing algorithm with an uniform distribution, the probability of a particular element ending up in a particular bit is just <strong>1/m</strong>
</li>
</ul>

<p><strong>1/m</strong></p>

<ul>
<li>After inserting this element, the probability of a bit not being set is <strong>1 - 1/m</strong>
</li>
</ul>

<p><strong>1 - 1/m</strong></p>

<ul>
<li>And this probability after performing <strong>k</strong> hash functions is <strong>(1 - 1/m)<sup></sup></strong><em>k</em><strong></strong>
</li>
</ul>

<p><strong>(1 - 1/m)<sup></sup></strong><em>k</em><strong></strong></p>

<ul>
<li>If you insert <strong>n</strong> elements, the probability that this bit isn't set is <strong>(1 - 1/m)<sup>k</sup></strong><em>.n</em><strong></strong>
</li>
</ul>

<p><strong>(1 - 1/m)<sup>k</sup></strong><em>.n</em><strong></strong></p>

<ul>
<li>On the opposite, the probability that is set is </li>
</ul>

<p><strong><em>1 -</em></strong> <strong>(1 - 1/m)<sup>k</sup></strong><em>.n</em><strong></strong></p>

<ul>
<li>It turns, and I need to dig on that, that <strong>(1 - 1/m)<sup>k.n</sup></strong> is roughly equivalent to <strong>1 - e<sup>-kn/m</sup></strong>
</li>
</ul>

<p>≈ <strong>1 - e<sup>-kn/m</sup></strong></p>

<ul>
<li><p>When we try to figure out the probability of false positive, we want to know the probability that all <strong>k</strong> bits are set to one by other elements</p></li>
<li><p>So this probability, is the probability that a bit is set ^ the number of bits we will verify <strong>(1 - e<sup>-kn/m</sup>)<sup><sup></sup></sup></strong><em>k</em><strong></strong> </p></li>
</ul>

<p><strong>(1 - e<sup>-kn/m</sup>)<sup><sup></sup></sup></strong><em>k</em><strong></strong> </p>

<h1>
<a id="xa" class="anchor" href="#xa" aria-hidden="true"><span class="octicon octicon-link"></span></a>XA</h1>

<p>This is a <strong>global transaction</strong> that may span <strong>multiple resources</strong>. On the opposite, a non-XA transaction always involves only one resource. </p>

<p>So it involves <em>a coordinating transaction manager</em>, with one or more databases (or other resources, like JMS) all involved in a single global transaction. It coordinates all of this through a protocol called Two Phase Commit (2PC). This protocol also has to be supported by the individual resources. </p>

<h1>
<a id="this-is-not-the-grub-you-are-looking-for" class="anchor" href="#this-is-not-the-grub-you-are-looking-for" aria-hidden="true"><span class="octicon octicon-link"></span></a>This is not the GRUB you are looking for</h1>

<ol>
<li>Download <a href="http://unetbootin.github.io/">http://unetbootin.github.io/</a>
</li>
<li>Select Super Grub Disk</li>
<li>Boot on it, select the first option, "GNU/Linux".</li>
<li>On the a menu titled "GNU/Linux (Help)": Select "Fix Boot of GNU/Linux (GRUB)". </li>
</ol>

<h1>
<a id="install-mysql-on-centos" class="anchor" href="#install-mysql-on-centos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install MySQL on CentOS</h1>

<ol>
<li>Install MySQL server and MySQL client : <em>yum install mysql-server mysql</em>
</li>
<li>Start the MySQL service : <em>/etc/init.d/mysql start</em>
</li>
<li>Run MySQL secure installation : <em>/usr/bin/mysql_secure_installation</em>
</li>
<li>Make sure MySQL auto-starts upon a reboot : <em>chkconfig mysqld on</em>
</li>
</ol>

<h1>
<a id="useful-commands" class="anchor" href="#useful-commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>Useful commands</h1>

<ul>
<li>df -h as in <strong>D</strong>isk <strong>F</strong>ree -<strong>h</strong>uman readable</li>
<li>du -sh as in <strong>D</strong>isk <strong>U</strong>sage -<strong>h</strong>uman readable -<strong>s</strong>ummerize</li>
<li>sort -h as in sort -<strong>h</strong>uman-numeric-sort</li>
</ul>

<h1>
<a id="maven" class="anchor" href="#maven" aria-hidden="true"><span class="octicon octicon-link"></span></a>Maven</h1>

<ul>
<li>run specific test : mvn <strong>-Dtest=TestNameOrPattern</strong> clean test</li>
</ul>

<h1>
<a id="mockito" class="anchor" href="#mockito" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mockito</h1>

<div class="highlight highlight-java"><pre><span class="pl-k">import static</span> <span class="pl-smi">org.mockito.Mockito.*</span>;

<span class="pl-smi">MyClass</span> c <span class="pl-k">=</span> mock(<span class="pl-smi">MyClass</span><span class="pl-k">.</span>class);
when(o<span class="pl-k">.</span>method())<span class="pl-k">.</span>thenReturn(<span class="pl-s"><span class="pl-pds">"</span>return<span class="pl-pds">"</span></span>);</pre></div>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-51057524-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
